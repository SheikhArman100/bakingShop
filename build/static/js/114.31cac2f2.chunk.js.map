{"version":3,"file":"static/js/114.31cac2f2.chunk.js","mappings":"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","sources":["ContextApi/useShop.js","Pages/cartpage/cartpage.styled.jsx","Pages/cartpage/cartpage.jsx"],"sourcesContent":["\r\nimport { useContext } from \"react\";\r\nimport {ShopContext}  from './ShopContext';\r\nexport const useShop = () => {\r\n    const context = useContext(ShopContext);\r\n  \r\n    if (context === undefined) {\r\n      throw new Error(\"useShop must be used within ShopContext\");\r\n    }\r\n  \r\n    return context;\r\n  };","import { motion } from \"framer-motion\";\r\nimport styled from \"styled-components\";\r\nimport { Variable } from \"../../Themes/globalVariables\";\r\n\r\nexport const CartContainer = styled.div`\r\n  padding: 10px 20px;\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ \r\n    padding: 10px \r\n  }\r\n`;\r\nexport const Title = styled(motion.h1)`\r\n  font-weight: 300;\r\n  text-align: center;\r\n  font-size:3rem ;\r\n  font-family: 'Cinzel', serif;\r\n  color:${(props)=>props.theme.secondaryColor};\r\n`;\r\n\r\nexport const Top = styled(motion.div)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n`;\r\n\r\nexport const TopButton = styled.button`\r\npadding: 15px 25px;\r\n border:none;\r\n border-radius: 15px;\r\n color: white;\r\n z-index: 1;\r\n background: ${(props)=>props.theme.buttonColor}; \r\n position: relative;\r\n font-weight: 1000;\r\n font-size: 1rem;\r\n -webkit-box-shadow: 4px 8px 19px -3px rgba(0,0,0,0.27);\r\n box-shadow: 4px 8px 19px -3px rgba(0,0,0,0.27);\r\n transition: all 250ms;\r\n overflow: hidden;\r\n\r\n\r\n&::before {\r\n content: \"\";\r\n position: absolute;\r\n top: 0;\r\n left: 0;\r\n height: 100%;\r\n width: 0;\r\n \r\n border-radius: 15px;\r\n background-color: #212121;\r\n z-index: -1;\r\n -webkit-box-shadow: 4px 8px 19px -3px rgba(0,0,0,0.27);\r\n box-shadow: 4px 8px 19px -3px rgba(0,0,0,0.27);\r\n transition: all 250ms\r\n}\r\n\r\n&:hover {\r\n color: #e8e8e8;\r\n}\r\n\r\n&:hover::before {\r\n width: 100%;\r\n}\r\n\r\n`;\r\n\r\nexport const TopTexts = styled.div`\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ display: none \r\n  }\r\n`;\r\nexport const TopText = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nexport const Bottom = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ flexDirection: column }\r\n  \r\n`;\r\n\r\nexport const Info = styled.div`\r\n  flex: 3;\r\n  display:flex ;\r\n  flex-direction:column ;\r\n  justify-content:space-between ;\r\n  margin-right:2rem ;\r\n\r\n\r\n`;\r\n\r\nexport const Product = styled(motion.div)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ flexDirection: \"column\" }\r\n  background-color:#181414a4 ;\r\n  box-shadow:6px 6px 10px 2px black ;\r\n  border-radius:2rem ;\r\n  margin-bottom :1rem ; \r\n  \r\n  \r\n`;\r\n\r\nexport const ProductDetail = styled.div`\r\n  flex: 3;\r\n  display: flex;\r\n  padding:1rem ;\r\n  align-items:center ;\r\n \r\n`;\r\n\r\nexport const Image = styled.img`\r\n\r\n  width: 200px;\r\n  height:200px ;\r\n  object-fit:cover ;\r\n  border-radius:1rem ;\r\n  \r\n`;\r\n\r\nexport const Details = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* align-items:flex-start ; */\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const ProductInfo = styled.div`\r\ndisplay:flex ;\r\nflex-direction:column ;\r\n\r\n`;\r\nexport const InfoRow=styled.div`\r\ndisplay:flex ;\r\nalign-items:center ;\r\nh4{\r\n    font-size:1.2rem ;\r\n    color:${(props)=>props.theme.secondaryColor}; ;\r\n}\r\np{\r\n    font-size:1.05rem ;\r\n    margin:0.8rem ;\r\n}\r\n\r\n`\r\n\r\n\r\n\r\n\r\n\r\nexport const PriceDetail = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ProductAmountContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const ProductAmount = styled.div`\r\n  font-size: 24px;\r\n  margin: 5px;\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ margin: 5px 15px }\r\n`;\r\n\r\nexport const ProductPrice = styled.div`\r\n  font-size: 30px;\r\n  font-weight: 200;\r\n  @media only screen and (max-width: ${Variable.mobile_width}){ marginBottom: \"20px\" }\r\n  span{\r\n    color:${(props)=>props.theme.buttonColor};\r\n    font-weight:bold ;\r\n  }\r\n`;\r\nexport const Hr = styled.hr`\r\n  background-color: #eee;\r\n  border: none;\r\n  height: 1px;\r\n`;\r\n\r\nexport const Summary = styled(motion.div)`\r\n  flex: 1;\r\n  border: 5px solid ${(props)=>props.theme.buttonColor};;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  height: 50vh;\r\n  \r\n`;\r\n\r\nexport const SummaryTitle = styled.h1`\r\n  font-weight: 600;\r\n  color:${(props)=>props.theme.secondaryColor};\r\n`;\r\n\r\nexport const SummaryItem = styled.div`\r\n  margin: 30px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-weight:600;\r\n \r\n`;\r\n\r\nexport const SummaryItemText = styled.span``;\r\n\r\nexport const SummaryItemPrice = styled.span``;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: black;\r\n  color: white;\r\n  font-weight: 600;\r\n`;\r\n","\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\n\r\nimport { useShop } from '../../ContextApi/useShop';\r\n\r\nimport Axios from 'axios';\r\nimport { useAnimation } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport logo from '../../assets/logo.png';\r\n\r\n\r\nimport { Bottom, CartContainer, Details, Image, Info, InfoRow, PriceDetail, Product, ProductDetail, ProductInfo, ProductPrice, Summary, SummaryItem, SummaryItemPrice, SummaryItemText, SummaryTitle, Title, Top, TopButton } from './cartpage.styled';\r\nimport { Navbar } from '../../Components/navbar/navbar'\r\nimport { Contactus } from '../../Containers/contactus/contactus'\r\n\r\nconst upperVariant = {\r\n  visible: { opacity: 1, y: 0, transition: { duration: 0.7 } },\r\n  hidden: { opacity: 0, y: -200 }\r\n};\r\nconst cartVariant = {\r\n  visible: { opacity: 1, x: 0, transition: { duration: 0.7 } },\r\n  hidden: { opacity: 0, x: -200 }\r\n};\r\nconst summaryVariant = {\r\n  visible: { opacity: 1, x: 0, transition: { duration: 0.5 } },\r\n  hidden: { opacity: 0, x: 200 }\r\n};\r\n\r\nconst KEY=process.env.REACT_APP_STRIPE\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CartPage = () => {\r\n  \r\n\r\n  const{cart_products,total}=useShop()\r\n\r\n  \r\n  const navigate=useNavigate()\r\n  const control = useAnimation();\r\n  const [ref, inView] = useInView();\r\n\r\n  useEffect(() => {\r\n    if (inView) {\r\n      control.start(\"visible\");\r\n    } else {\r\n      control.start(\"hidden\");\r\n    }\r\n  }, [control, inView]);\r\n  \r\n\r\n  const totalpay=total+100-70\r\n  const [stripeToken, setStripeToken] = useState(null)\r\n  const onToken = (token) => {\r\n    setStripeToken(token);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const makeRequest = async () => {\r\n      try {\r\n        const res = await Axios.post(\"https://bakingshop100.herokuapp.com/api/checkout/payment\", {\r\n          tokenId: stripeToken.id,\r\n          amount: total,\r\n        });\r\n        // console.log(res.data)\r\n        navigate('/',{\r\n          stripeData: res.data,\r\n          products: cart_products, });\r\n          toast(\"Order payment Completed\", {\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            theme: \"dark\"\r\n          })\r\n      } catch(err) {\r\n          toast(\"Order payment Failed\", {\r\n            position: toast.POSITION.TOP_RIGHT,\r\n            theme: \"dark\"\r\n          })\r\n\r\n      }\r\n    };\r\n    stripeToken && makeRequest();\r\n  }, [stripeToken,total, navigate]);\r\n \r\n  \r\n  return (\r\n    <>\r\n     \r\n      <Navbar/>\r\n      <CartContainer>\r\n        <Title ref={ref}\r\n      variants={upperVariant}\r\n      initial=\"hidden\"\r\n      animate={control}>Your Cart Items</Title>\r\n        <Top ref={ref}\r\n      variants={upperVariant}\r\n      initial=\"hidden\"\r\n      animate={control}>\r\n          <TopButton onClick={()=>navigate('/products')}>CONTINUE SHOPPING</TopButton>\r\n         \r\n          <StripeCheckout\r\n              name=\"Baking Tales\"\r\n              image={logo}\r\n              billingAddress\r\n              shippingAddress\r\n              description={`Your total is $${totalpay}`}\r\n              amount={totalpay * 100}\r\n              token={onToken}\r\n              stripeKey={KEY}\r\n            >\r\n              <TopButton>CHECKOUT NOW</TopButton>\r\n            </StripeCheckout>\r\n        </Top>\r\n        <Bottom>\r\n          <Info>\r\n          {cart_products.map((value,key)=>(\r\n              <Product ref={ref}\r\n              variants={cartVariant}\r\n              initial=\"hidden\"\r\n              animate={control}>\r\n                <ProductDetail>\r\n                  <Image src={value.img} />\r\n                  <Details>\r\n                    <ProductInfo>\r\n                      <InfoRow><h4>Product Name: </h4><p>{value.title}</p></InfoRow>\r\n                      <InfoRow><h4>Product Id: </h4><p>{value._id}</p></InfoRow>\r\n                      <InfoRow><h4>Product Catagory: </h4><p>{value.catagories}</p></InfoRow>\r\n                       \r\n                      \r\n                      \r\n                    </ProductInfo>\r\n                  </Details>\r\n                </ProductDetail>\r\n                <PriceDetail>\r\n                  {/* <ProductAmountContainer>\r\n                  <IoRemoveOutline onClick={()=>setQuantity(value.quantity-1)} />\r\n                  <ProductAmount>{quantity}</ProductAmount>\r\n                  <IoAddOutline onClick={()=>setQuantity(value.quantity+1)}/>\r\n\r\n                    \r\n                   \r\n                  </ProductAmountContainer> */}\r\n                  <ProductPrice><span>Price:  </span><br/>\r\n                      {value.price}*{value.quantity}={value.price*value.quantity}৳\r\n                  </ProductPrice>\r\n                </PriceDetail>\r\n                \r\n              </Product>\r\n))}\r\n            \r\n          </Info>\r\n          <Summary ref={ref}\r\n      variants={summaryVariant}\r\n      initial=\"hidden\"\r\n      animate={control}>\r\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\r\n            <SummaryItem>\r\n              <SummaryItemText>Subtotal</SummaryItemText>\r\n              <SummaryItemPrice>{total}৳</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem>\r\n              <SummaryItemText>Estimated Shipping</SummaryItemText>\r\n              <SummaryItemPrice>100৳</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem>\r\n              <SummaryItemText>Discount</SummaryItemText>\r\n              <SummaryItemPrice>-70৳</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem type=\"total\">\r\n              <SummaryItemText>Total</SummaryItemText>\r\n              <SummaryItemPrice>{totalpay}৳</SummaryItemPrice>\r\n            </SummaryItem>\r\n            \r\n          </Summary>\r\n        </Bottom>\r\n      </CartContainer>\r\n      <Contactus/>\r\n      \r\n    </>\r\n  );\r\n};\r\nexport default CartPage\r\n\r\n"],"names":["useShop","context","useContext","ShopContext","undefined","Error","CartContainer","styled","Variable","Title","motion","props","theme","secondaryColor","Top","TopButton","buttonColor","Bottom","Info","Product","ProductDetail","Image","Details","ProductInfo","InfoRow","PriceDetail","ProductPrice","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","upperVariant","visible","opacity","y","transition","duration","hidden","cartVariant","x","summaryVariant","cart_products","total","navigate","useNavigate","control","useAnimation","useInView","ref","inView","useEffect","start","totalpay","useState","stripeToken","setStripeToken","makeRequest","Axios","tokenId","id","amount","res","stripeData","data","products","toast","position","variants","initial","animate","onClick","name","image","logo","billingAddress","shippingAddress","description","token","stripeKey","process","map","value","key","src","img","title","_id","catagories","price","quantity","type"],"sourceRoot":""}